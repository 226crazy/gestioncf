<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D√©penses - Gestion Salle de Jeux</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">üéÆ Salle de Jeux</div>
        <div class="nav-links">
            <a href="dashboard.html">Tableau de Bord</a>
            <a href="sessions.html">Nouvelle Session</a>
            <a href="reports.html">Rapports</a>
            <a href="expenses.html" class="active">D√©penses</a>
            <a href="settings.html">Param√®tres</a>
            <a href="#" id="logoutBtn">D√©connexion</a>
        </div>
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1>Gestion des D√©penses</h1>
        </div>

        <!-- Add Expense Form -->
        <div class="form-section">
            <h2>Ajouter une D√©pense</h2>
            <form id="expenseForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="expenseType">Type de D√©pense</label>
                        <select id="expenseType" required>
                            <option value="">S√©lectionner...</option>
                            <option value="loyer">Loyer</option>
                            <option value="salaire">Salaire</option>
                            <option value="electricite">√âlectricit√©</option>
                            <option value="wifi">WiFi</option>
                            <option value="maintenance">Maintenance</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="expenseAmount">Montant (F)</label>
                        <input type="number" id="expenseAmount" required step="0.01">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="expenseDate">Date</label>
                        <input type="date" id="expenseDate" required>
                    </div>
                    <div class="form-group">
                        <label for="expenseFrequency">Fr√©quence</label>
                        <select id="expenseFrequency" required>
                            <option value="unique">Unique</option>
                            <option value="hebdomadaire">Hebdomadaire</option>
                            <option value="mensuel">Mensuel</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="expenseDescription">Description</label>
                    <textarea id="expenseDescription" rows="3" placeholder="Description de la d√©pense..."></textarea>
                </div>

                <button type="submit" class="btn-primary">Ajouter la D√©pense</button>
            </form>
        </div>

        <!-- Expenses Summary -->
        <div class="stats-grid">
            <div class="stat-card">
                <h3>D√©penses du Mois</h3>
                <p class="stat-value" id="monthExpenses">0 F</p>
            </div>
            <div class="stat-card">
                <h3>D√©penses de la Semaine</h3>
                <p class="stat-value" id="weekExpenses">0 F</p>
            </div>
            <div class="stat-card">
                <h3>D√©penses R√©currentes</h3>
                <p class="stat-value" id="recurringExpenses">0 F</p>
            </div>
        </div>

        <!-- Expenses List -->
        <div class="section">
            <h2>Liste des D√©penses</h2>
            <div class="filter-section">
                <div class="form-row">
                    <div class="form-group">
                        <label for="filterType">Filtrer par Type</label>
                        <select id="filterType">
                            <option value="all">Toutes</option>
                            <option value="loyer">Loyer</option>
                            <option value="salaire">Salaire</option>
                            <option value="electricite">√âlectricit√©</option>
                            <option value="wifi">WiFi</option>
                            <option value="maintenance">Maintenance</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="filterMonth">Filtrer par Mois</label>
                        <input type="month" id="filterMonth">
                    </div>
                    <button id="filterExpensesBtn" class="btn-secondary">Filtrer</button>
                </div>
            </div>

            <div class="table-responsive">
                <table id="expensesTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Description</th>
                            <th>Fr√©quence</th>
                            <th>Montant</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="expensesTableBody">
                        <tr>
                            <td colspan="6" class="empty-message">Aucune d√©pense enregistr√©e</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="js/config.js"></script>
    <script src="js/auth-check.js"></script>
    <script src="js/expenses.js"></script>
</body>
</html>
